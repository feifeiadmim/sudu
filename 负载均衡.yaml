# åŸºç¡€é…ç½®
port: 7890
socks-port: 7891
allow-lan: true
mode: rule
log-level: info
external-controller: 127.0.0.1:9090

# DNSé…ç½®
dns:
  enable: true
  listen: 0.0.0.0:53
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  nameserver:
    - 223.5.5.5
    - 119.29.29.29
  fallback:
    - 8.8.8.8
    - 1.1.1.1

# ä»£ç†ç»„é…ç½®
proxy-groups:
  # è´Ÿè½½å‡è¡¡ç»„
  - name: "è´Ÿè½½å‡è¡¡-è½®è¯¢"
    type: load-balance
    strategy: round-robin
    url: http://www.google.com/generate_204
    interval: 300
    include-all: true

  - name: "è´Ÿè½½å‡è¡¡-æ•£åˆ—"
    type: load-balance
    strategy: consistent-hashing
    url: http://www.google.com/generate_204
    interval: 300
    include-all: true

  # å»¶è¿Ÿæµ‹é€Ÿç»„
  - name: "Auto - UrlTest"
    type: url-test
    url: http://cp.cloudflare.com/generate_204
    interval: 1800
    include-all: true

  # æŒ‰ç”¨æˆ·è¦æ±‚æ’åºçš„ä»£ç†ç»„
  - name: "ğŸš€ èŠ‚ç‚¹é€‰æ‹©"
    type: select
    proxies:
      - "è´Ÿè½½å‡è¡¡-æ•£åˆ—"
      - "è´Ÿè½½å‡è¡¡-è½®è¯¢"
      - "Auto - UrlTest"
      - "DIRECT"
    include-all: true

  - name: "ğŸ“¹ æ²¹ç®¡è§†é¢‘"
    type: select
    proxies:
      - "ğŸš€ èŠ‚ç‚¹é€‰æ‹©"
      - "DIRECT"

  - name: "ğŸ¬ å¥ˆé£å½±è§†"
    type: select
    proxies:
      - "ğŸš€ èŠ‚ç‚¹é€‰æ‹©"
      - "DIRECT"
    include-all: true

  - name: "ğŸ“± ç”µæŠ¥æ¶ˆæ¯"
    type: select
    proxies:
      - "ğŸš€ èŠ‚ç‚¹é€‰æ‹©"
      - "DIRECT"
    include-all: true

  - name: "ğŸ¤– AIå¥—ä»¶"
    type: select
    proxies:
      - "ğŸš€ èŠ‚ç‚¹é€‰æ‹©"
      - "DIRECT"
    filter: "ç¾|æ—¥|éŸ©|å°|æ–°|JP|US|KR|TW"
    include-all: true

  - name: "ğŸ° è¿ªå£«å°¼"
    type: select
    proxies:
      - "ğŸš€ èŠ‚ç‚¹é€‰æ‹©"
      - "DIRECT"
    include-all: true

  # å…¶ä»–æµåª’ä½“å’Œç”µè§†æœåŠ¡
  - name: "ğŸµ Spotify"
    type: select
    proxies:
      - "ğŸš€ èŠ‚ç‚¹é€‰æ‹©"
      - "DIRECT"
    include-all: true

  # å…¶ä»–åº”ç”¨å’ŒæœåŠ¡

  - name: "ğŸ® Steam"
    type: select
    proxies:
      - "ğŸš€ èŠ‚ç‚¹é€‰æ‹©"
      - "DIRECT"

  - name: "âš¡ æµ‹é€Ÿç½‘ç«™"
    type: select
    proxies:
      - "ğŸš€ èŠ‚ç‚¹é€‰æ‹©"
      - "DIRECT"
      - "ğŸ¯ å›½å†…ç›´è¿"
    include-all: true

  - name: "ğŸ–¥ï¸ å¾®è½¯æœåŠ¡"
    type: select
    proxies:
      - "ğŸš€ èŠ‚ç‚¹é€‰æ‹©"
      - "DIRECT"

  - name: "ğŸ¶ ç½‘æ˜“éŸ³ä¹"
    type: select
    proxies:
      - "DIRECT"
      - "ğŸš€ èŠ‚ç‚¹é€‰æ‹©"
    include-all: true
    filter: "ç½‘æ˜“äº‘|è§£é”"

  - name: "â‚¿ åŠ å¯†è´§å¸"
    type: select
    proxies:
      - "ğŸš€ èŠ‚ç‚¹é€‰æ‹©"
      - "DIRECT"
    include-all: true

  - name: "ğŸ“¢ è°·æ­Œ"
    type: select
    proxies:
      - "ğŸš€ èŠ‚ç‚¹é€‰æ‹©"
      - "DIRECT"

  # ç§»åŠ¨åˆ°åº•éƒ¨çš„ä»£ç†ç»„
  - name: "ğŸ¯ å›½å†…ç›´è¿"
    type: select
    proxies:
      - "DIRECT"
      - "ğŸš€ èŠ‚ç‚¹é€‰æ‹©"

  - name: "ğŸ  æ¼ç½‘ä¹‹é±¼"
    type: select
    proxies:
      - "ğŸš€ èŠ‚ç‚¹é€‰æ‹©"
      - "DIRECT"
    include-all: true

  - name: "ğŸ è‹¹æœæœåŠ¡"
    type: select
    proxies:
      - "DIRECT"
      - "ğŸš€ èŠ‚ç‚¹é€‰æ‹©"

# è§„åˆ™æä¾›è€… - å®Œæ•´ç‰ˆï¼ˆä¿ç•™æ‰€æœ‰åŸå§‹è§„åˆ™é›†ï¼‰
rule-providers:

  # æµåª’ä½“æœåŠ¡
  Netflix:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/refs/heads/master/Clash/Netflix.list"
    path: ./ruleset/Netflix.yaml
    interval: 86400

  Spotify:
    type: http
    behavior: classical
    url: "https://rule.kelee.one/Clash/Spotify.yaml"
    path: ./ruleset/Spotify.yaml
    interval: 86400

  Disney:
    type: http
    behavior: classical
    url: "https://rule.kelee.one/Clash/Disney.yaml"
    path: ./ruleset/Disney.yaml
    interval: 86400

  YouTube:
    type: http
    behavior: classical
    url: "https://rule.kelee.one/Clash/YouTube.yaml"
    path: ./ruleset/YouTube.yaml
    interval: 86400

  YouTube-Music:
    type: http
    behavior: classical
    url: "https://rule.kelee.one/Clash/YouTubeMusic.yaml"
    path: ./ruleset/YouTube-Music.yaml
    interval: 86400

  # åº”ç”¨å’ŒæœåŠ¡
  Telegram:
    type: http
    behavior: classical
    url: https://kelee.one/Tool/Clash/Rule/Telegram.yaml
    path: ./ruleset/Telegram.yaml
    interval: 86400

  Steam:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/dler-io/Rules/main/Surge/Surge-3/Provider/Steam.list
    path: ./ruleset/Steam.yaml
    interval: 86400

  Speedtest:
    type: http
    behavior: classical
    url: "https://rule.kelee.one/Clash/Speedtest.yaml"
    path: ./ruleset/Speedtest.yaml
    interval: 86400

  Microsoft:
    type: http
    behavior: classical
    url: https://rule.kelee.one/Clash/Microsoft.yaml
    path: ./ruleset/Microsoft.yaml
    interval: 86400

  Netease-Music:
    type: http
    behavior: classical
    url: "https://rule.kelee.one/Clash/NetEaseMusic.yaml"
    path: ./ruleset/Netease-Music.yaml
    interval: 86400

  # ç‰¹æ®Šè§„åˆ™å’Œä»£ç†è§„åˆ™

  Proxy:
    type: http
    behavior: classical
    url: "https://rule.kelee.one/Clash/Proxy.yaml"
    path: ./ruleset/Proxy.yaml
    interval: 86400

  Domestic:
    type: http
    behavior: classical
    url: "https://rule.kelee.one/Clash/Direct.yaml"
    path: ./ruleset/Domestic.yaml
    interval: 86400

  Apple:
    type: http
    behavior: classical
    url: "https://rule.kelee.one/Clash/Apple.yaml"
    path: ./ruleset/Apple.yaml
    interval: 86400

  Crypto:
    type: http
    behavior: classical
    url: "https://rule.kelee.one/Clash/Crypto.yaml"
    path: ./ruleset/Crypto.yaml
    interval: 86400

  Google:
    type: http
    behavior: classical
    url: "https://rule.kelee.one/Clash/Google.yaml"
    path: ./ruleset/Google.yaml
    interval: 86400

  AI-Suite:
    type: http
    behavior: classical
    url: https://kelee.one/Tool/Clash/Rule/AI.yaml
    path: ./ruleset/AI-Suite.yaml
    interval: 86400

# è§„åˆ™é…ç½® - å®Œæ•´ç‰ˆï¼ˆä¿ç•™æ‰€æœ‰åŸå§‹è§„åˆ™ï¼‰
rules:

  # æµåª’ä½“æœåŠ¡
  - RULE-SET,Netflix,ğŸ¬ å¥ˆé£å½±è§†
  - RULE-SET,Spotify,ğŸµ Spotify
  - RULE-SET,Disney,ğŸ° è¿ªå£«å°¼
  - RULE-SET,YouTube,ğŸ“¹ æ²¹ç®¡è§†é¢‘
  - RULE-SET,YouTube-Music,ğŸ“¹ æ²¹ç®¡è§†é¢‘

  # åº”ç”¨å’ŒæœåŠ¡è§„åˆ™
  - RULE-SET,Telegram,ğŸ“± ç”µæŠ¥æ¶ˆæ¯
  - RULE-SET,Steam,ğŸ® Steam
  - RULE-SET,Speedtest,âš¡ æµ‹é€Ÿç½‘ç«™
  - RULE-SET,Microsoft,ğŸ–¥ï¸ å¾®è½¯æœåŠ¡
  - RULE-SET,Netease-Music,ğŸ¶ ç½‘æ˜“éŸ³ä¹
  - RULE-SET,Proxy,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,Domestic,ğŸ¯ å›½å†…ç›´è¿
  - RULE-SET,Apple,ğŸ è‹¹æœæœåŠ¡
  - RULE-SET,Crypto,â‚¿ åŠ å¯†è´§å¸
  - RULE-SET,Google,ğŸ“¢ è°·æ­Œ
  - RULE-SET,AI-Suite,ğŸ¤– AIå¥—ä»¶

  # åœ°ç†ä½ç½®è§„åˆ™
  - GEOIP,CN,ğŸ¯ å›½å†…ç›´è¿

  # å…œåº•è§„åˆ™
  - MATCH,ğŸ  æ¼ç½‘ä¹‹é±¼
